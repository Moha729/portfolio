
<h1>Welcome to my CV!</h1>


<div id="outter_wrapper">
<div id="full_wrapper">

    <div id="cvheader">

    <div id="myname" class="nametag">
        <h2>$MY_FULL_NAME</h2>
    </div>

    <div id="picture_contactinfo">
        <div id="mypicture">
            <p>IMAGE</p>
        </div>

        <div id="mycontactinfo" class="contactinfotag">
            <p>$MY_RESIDENCE</p>
            <p>$MY_EMAIL</p>
            <p>$MY_BIRTH_YEAR</p>
        </div>
    </div>
</div>

<div id="cvbody">
    <div id="col1">
        <hr>
        <div id="itexperience" >
            <p class="cv_sub_title">It experience</p>
        </div>
        <hr>

        <div id="relevantexperience" >
            <p class="cv_sub_title">Educational experience</p>
        </div>


        <div id="workexperience">
            <p class="cv_sub_title">Work experience</p>

        </div>
        <div id="voluntarilywork">
            <p class="cv_sub_title">Voluntarily work</p>

        </div>
        <div id="otherexperience">
            <p class="cv_sub_title">Other experience</p>

        </div>
        <div id="lanuages">
            <p class="cv_sub_title">Lanuages</p>

        </div>
        <div id="certificates">
            <p class="cv_sub_title">Certificates</p>

        </div>    
    </div>
    <div id="col2"></div>
</div>
</div>
</div>

<div id="rubric_container"></div>

<template id="rubric_template">
    <div class="rubric">
      <p class="rubric_title"></p>
      <p class="rubric_year"></p>
      <pre class="lesson_list"></pre>
    </div>
  </template>
  

  
<script>

function handleObjects(data){
        // Assume that the data is an array of objects with title and lessons properties
data.forEach((item) => {
  // Clone the template
  const template = document.getElementById("rubric_template");
  const rubric = template.content.cloneNode(true);

  // Set the title
  const titleElement = rubric.querySelector(".rubric_title");
  titleElement.textContent = item.title;

  // Set the year
  const yearElement = rubric.querySelector(".rubric_year")
  yearElement.textContent = item.years

  // Set the lessons
  const lessonList = rubric.querySelector(".lesson_list");
  item.lessons.forEach((lesson) => {
    const lessonItem = document.createElement("p");
    lessonItem.textContent = lesson;
    lessonList.appendChild(lessonItem);
  });

  // Append the rubric to the container
  const container = document.getElementById(item.category);
  container.appendChild(rubric);

  console.log(item);
});

    }

    async function main () {

        let data = await readAssetFile('./assets/cv_config.json')

        const objects = Object.values(data) //converted it to array

        handleObjects(objects)
    }

    main()

async function readAssetFile (path) {

    const response = await fetch(path)
    const data = await response.json()
    return data
    }
</script>

</main>
</body>
</html>